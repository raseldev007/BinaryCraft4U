<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Service Detail — Binary Craft</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
    <link rel="stylesheet" href="css/global.css" />
    <link rel="stylesheet" href="css/navbar.css" />
    <link rel="stylesheet" href="css/footer.css" />
    <style>
        .detail-header {
            padding: 120px 0 60px;
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border);
        }

        .detail-container {
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: 48px;
            padding: 60px 0;
        }

        .detail-icon-box {
            width: 80px;
            height: 80px;
            background: var(--grad-primary);
            border-radius: 20px;
            
            align-items: center;
            justify-content: center;
            font-size: 36px;
            color: #fff;
            margin-bottom: 24px;
        }

        .detail-title {
            font-size: 36px;
            font-weight: 800;
            color: var(--text-primary);
            margin-bottom: 16px;
        }

        .detail-desc-main {
            font-size: 18px;
            color: var(--text-secondary);
            line-height: 1.7;
            margin-bottom: 32px;
        }

        .content-box {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            padding: 40px;
            margin-bottom: 32px;
        }

        .content-box h2 {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 24px;
        }

        .features-list {
            list-style: none;
            padding: 0;
            margin: 0;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
        }

        .features-list li {
            
            align-items: center;
            gap: 12px;
            color: var(--text-secondary);
            font-size: 15px;
        }

        .features-list li i {
            color: var(--success);
        }

        .purchase-card {
            background: var(--bg-card);
            border: 1px solid var(--primary);
            border-radius: var(--radius-lg);
            padding: 32px;
            position: sticky;
            top: 90px;
        }

        .price-tag {
            font-size: 40px;
            font-weight: 900;
            color: var(--text-primary);
            margin-bottom: 8px;
            line-height: 1;
        }

        .price-sub {
            font-size: 13px;
            color: var(--text-muted);
            margin-bottom: 24px;
        }

        .meta-list {
            list-style: none;
            padding: 0;
            margin: 0 0 24px;
            border-top: 1px solid var(--border);
            padding-top: 24px;
        }

        .meta-list li {
            
            justify-content: space-between;
            padding: 8px 0;
            font-size: 14px;
        }

        .meta-list li span:first-child {
            color: var(--text-muted);
        }

        .meta-list li span:last-child {
            color: var(--text-primary);
            font-weight: 600;
        }

        @media(max-width:900px) {
            .detail-container {
                grid-template-columns: 1fr;
            }

            .features-list {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>

<body>
    <nav class="navbar" id="navbar">
        <div class="nav-container">
            <a href="index.html" class="nav-logo"><img src="images/logo.png" alt="Binary Craft Logo" style="height: 40px; margin-right: 12px;" /></a>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="services.html" class="active">Services</a></li>
                <li><a href="products.html">Products</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
            <div class="nav-actions">
                <a href="cart.html" class="nav-cart"><i class="fas fa-shopping-cart"></i><span class="cart-badge"
                        id="cart-count">0</span></a>
                <a href="login.html" class="btn btn-primary" id="nav-auth-btn">Sign In</a>
                <button class="mobile-menu-btn"
                    onclick="document.querySelector('.nav-links').classList.toggle('active')"><i
                        class="fas fa-bars"></i></button>
            </div>
        </div>
    </nav>

    <div id="service-wrapper">
        <div class="detail-header">
            <div class="container" style="text-align:center">
                <div class="spinner"></div>
            </div>
        </div>
    </div>

    <footer style="background:var(--bg-secondary);padding:60px 0;border-top:1px solid var(--border);">
        <div class="container">
            <p style="text-align:center;color:var(--text-muted)">&copy; 2023 Binary Craft.</p>
        </div>
    </footer>

    <script src="js/api.js?v=2"></script>
    <script src="js/auth.js"></script>
    <script src="js/cart.js"></script>
    <script>
        window.addEventListener('scroll', () => document.getElementById('navbar').classList.toggle('scrolled', window.scrollY > 50));
        if (Auth.isLoggedIn()) { const btn = document.getElementById('nav-auth-btn'); btn.textContent = 'Dashboard'; btn.href = 'dashboard.html'; btn.className = 'btn btn-outline'; }
        updateCartCount();

        async function loadService() {
            const urlParams = new URLSearchParams(window.location.search);
            const id = urlParams.get('id');
            const wrapper = document.getElementById('service-wrapper');

            if (!id) { wrapper.innerHTML = '<div class="container" style="padding:100px 0;text-align:center"><h1>Service Not Found</h1><a href="services.html" class="btn btn-primary" style="margin-top:20px">Back to Services</a></div>'; return; }

            try {
                const data = await API(`/services/${id}`);
                const s = data.service;
                document.title = `${s.title} — Binary Craft`;

                wrapper.innerHTML = `
          <div class="detail-header">
            <div class="container">
              <div class="breadcrumb" style="justify-content:flex-start;margin-bottom:20px"><a href="index.html">Home</a><span>/</span><a href="services.html">Services</a><span>/</span><span>${s.category}</span></div>
              <div class="detail-icon-box">${s.icon || '<i class="fas fa-globe"></i>'}</div>
              <h1 class="detail-title">${s.title}</h1>
              <p class="detail-desc-main">${s.description}</p>
            </div>
          </div>
          
          <div class="container detail-container">
            <div>
              <div class="content-box">
                <h2>What's Included</h2>
                <ul class="features-list">
                  ${(s.features && s.features.length) ? s.features.map(f => `<li><i class="fas fa-check-circle"></i> ${f}</li>`).join('') : '<li><i class="fas fa-info-circle"></i> Basic implementation and delivery</li>'}
                </ul>
              </div>
              
              <div class="content-box">
                <h2>Our Process</h2>
                <p style="color:var(--text-secondary);font-size:15px;line-height:1.6">We start with a thorough consultation to understand your requirements, followed by planning and wireframing. Development begins with regular updates, concluding with rigorous testing and deployment.</p>
              </div>
            </div>
            
            <div>
              <div class="purchase-card">
                <div class="price-tag">$${s.price.toFixed(2)}</div>
                <div class="price-sub">Starting price</div>
                
                <ul class="meta-list">
                  <li><span>Category</span> <span style="text-transform:capitalize">${s.category}</span></li>
                  <li><span>Est. Delivery</span> <span>${s.delivery || 'TBD'}</span></li>
                  <li><span>Revisions</span> <span>Available</span></li>
                </ul>
                
                <button class="btn btn-primary" style="width:100%;justify-content:center;padding:16px;font-size:16px;margin-bottom:12px" onclick='addToCart(${JSON.stringify({ id: s._id, title: s.title, price: s.price, image: s.icon || "<i class='fas fa-globe'></i>", type: "service" }).replace(/'/g, "&apos;")})'>
                  <i class="fas fa-shopping-cart"></i> Add to Cart
                </button>
                <div style="text-align:center;font-size:12px;color:var(--text-muted)"><i class="fas fa-shield-alt"></i> 100% Satisfaction Guarantee</div>
              </div>
            </div>
          </div>
        `;
            } catch (e) {
                wrapper.innerHTML = '<div class="container" style="padding:100px 0;text-align:center"><h1>Service Not Found</h1><p style="color:var(--danger)">' + e.message + '</p><a href="services.html" class="btn btn-primary" style="margin-top:20px">Back to Services</a></div>';
            }
        }

        loadService();
    </script>
</body>

</html>